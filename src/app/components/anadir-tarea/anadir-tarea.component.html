<ion-header>
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">Añadir Nueva Tarea</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="tareaForm" (ngSubmit)="onSubmit()">
    <ion-card>
      <ion-card-header>
        <ion-card-title class="ion-text-center">Nueva Tarea</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <!-- Campo para Descripción -->
        <ion-item lines="full" class="input-field">
          <ion-label position="floating">Descripción</ion-label>
          <ion-input formControlName="description" type="text" placeholder="Escribe la tarea..."></ion-input>
        </ion-item>
        <ion-note color="danger" *ngIf="tareaForm.get('descripcion')?.invalid && tareaForm.get('descripcion')?.touched">
          La descripción es requerida (mín. 5 caracteres).
        </ion-note>

        <!-- Campo para Fecha Límite -->
        <ion-item lines="full" class="input-field">
          <ion-label position="floating">Fecha Límite</ion-label>
          <ion-datetime formControlName="limitDate" display-format="DD/MM/YYYY"></ion-datetime>
        </ion-item>
        <ion-note color="danger" *ngIf="tareaForm.get('limitDate')?.invalid && tareaForm.get('limitDate')?.touched">
          Selecciona una fecha.
        </ion-note>

        <!-- Campo para Seleccionar Usuario -->
        <ion-item lines="full" class="input-field">
          <ion-label position="floating">Usuario Asignado</ion-label>
          <ion-select formControlName="userId" placeholder="Selecciona un usuario">
            <ion-select-option *ngFor="let usuario of usuarios" [value]="usuario">{{ usuario }}</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-note color="danger" *ngIf="tareaForm.get('userId')?.invalid && tareaForm.get('userId')?.touched">
          Selecciona un usuario.
        </ion-note>

        <!-- Botón de Enviar -->
        <ion-button expand="block" color="primary" type="submit" [disabled]="tareaForm.invalid" class="submit-button">
          <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
          Crear Tarea
        </ion-button>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>
