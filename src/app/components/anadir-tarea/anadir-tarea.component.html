<ion-header>
  <ion-toolbar class="custom-toolbar">
    <ion-buttons slot="start">
      <ion-button (click)="goBackHome()" class="back-button-header">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="ion-text-center">Lan bat gehitu</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="form-container">
    <div class="form-box">
      <h1>Lan berriye</h1>
      
      <form [formGroup]="tareaForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <ion-item lines="none">
            <ion-select formControlName="tareaId" 
                      interface="popover" 
                      placeholder="Iteko"
                      class="custom-select">
                      <ion-select-option *ngFor="let p of tareas" [value]="p.id">
                        {{ p.desc }}
                      </ion-select-option>
            </ion-select>
          </ion-item>
          <ion-note color="danger" *ngIf="tareaForm.get('description')?.invalid && tareaForm.get('description')?.touched">
            Aukerau lan bat
          </ion-note>
        </div>

        
        <div class="form-group">
          <ion-item lines="none">
            <ion-select formControlName="userId" 
                      interface="popover" 
                      placeholder="ZeÃ±ek"
                      class="custom-select">
              <ion-select-option *ngFor="let usuario of usuarios" [value]="usuario.id">
                {{ usuario.name }}
              </ion-select-option>
            </ion-select>
          </ion-item>
        </div>

        <ion-button expand="block" 
                    type="submit" 
                    class="submit-button"
                    [disabled]="tareaForm.invalid || gordetzen"
                    shape="round">
          <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
          Sortu lana
        </ion-button>

        <ion-button expand="block" 
                    class="back-button"
                    (click)="goBackHome()"
                    shape="round">
          <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
          Atzea
        </ion-button>
      </form>
    </div>
  </div>
</ion-content>